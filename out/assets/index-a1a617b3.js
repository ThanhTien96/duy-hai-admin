var X=Object.defineProperty;var Y=(l,a,t)=>a in l?X(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t;var V=(l,a,t)=>(Y(l,typeof a!="symbol"?a+"":a,t),t);import{r as d,V as _,_ as G,e as R,d as q,j as e,br as Z,h as I,I as J,p as n,E as v,ah as Q,bs as W,ag as ee,S as E,B as j,bt as ae,aG as se,D as S,af as x,T as L,u as le,a as te,b as re,s as C,i as O,k as $,l as g,M as T,m as P,t as y,P as ce,H as oe,C as ue,g as ie,f as ne,R as de,o as me,w,al as he,am as ge}from"./index-783c8751.js";import{t as A}from"./truncateText-9f1e7e52.js";import{E as Pe}from"./EditOutlined-45a45c0a.js";var Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"};const be=Ne;var z=function(a,t){return d.createElement(_,G({},a,{ref:t,icon:be}))};z.displayName="CloudDownloadOutlined";const k=d.forwardRef(z);var pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"};const fe=pe;var F=function(a,t){return d.createElement(_,G({},a,{ref:t,icon:fe}))};F.displayName="CloudUploadOutlined";const M=d.forwardRef(F);class U{}V(U,"calcPercentDiscount",(a,t)=>Number((a-t)/a*100).toFixed(1));const{Meta:H}=I,{Text:N,Title:xe}=L,Ce=({id:l,img:a,title:t,description:r,originalPrice:c,overwritePrice:i,loading:b=!1,quantity:s,isSEO:u,isHot:o,onDelete:h,onUpdate:m})=>{const{colorPrimary:B}=R(K=>K.app.theme),p=q(),[D,f]=d.useState(!1);return e.jsxDEV(Z.Ribbon,{color:B,text:c&&i&&c>i?"- "+U.calcPercentDiscount(c??0,i??0)+" %":"0%",children:e.jsxDEV(I,{loading:b,hoverable:!0,cover:e.jsxDEV(J,{onClick:()=>p(`/${n.product}/${n.productDetail}/${l}`),className:"object-cover",loading:"lazy",height:300,preview:!1,alt:t??"product",src:b?v:a||v},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:83,columnNumber:11},globalThis),actions:[e.jsxDEV("span",{onClick:()=>p(`/${n.product}/${n.productDetail}/${l}`),children:"Chi Tiết"},"detail",!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:96,columnNumber:11},globalThis),e.jsxDEV(Pe,{onClick:()=>p(`/${n.product}/${n.updateProduct}/${l}`)},"edit",!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:104,columnNumber:11},globalThis),e.jsxDEV(Q,{title:"Xác Nhận Xoá",description:`Vẫn muôn xoá ${t}?`,onConfirm:h,okText:"Có",cancelText:"Không",children:e.jsxDEV(W,{},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:118,columnNumber:13},globalThis)},"delete",!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:110,columnNumber:11},globalThis),e.jsxDEV(ee,{open:D,onOpenChange:()=>f(!1),trigger:"click",content:e.jsxDEV(E,{direction:"vertical",children:[e.jsxDEV(j,{onClick:()=>{f(!1),l&&m&&m(l,{hot:!o})},className:"w-full",type:"default",icon:o?e.jsxDEV(k,{},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:134,columnNumber:29},globalThis):e.jsxDEV(M,{},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:134,columnNumber:57},globalThis),children:["Đổi Hot thành ",o?"Không":"Có"]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:126,columnNumber:17},globalThis),e.jsxDEV(j,{onClick:()=>{l&&m&&m(l,{seo:!u}),f(!1)},icon:u?e.jsxDEV(k,{},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:145,columnNumber:29},globalThis):e.jsxDEV(M,{},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:145,columnNumber:57},globalThis),className:"w-full",type:"default",children:["Đổi SEO Thành ",u?"Không":"Có"]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:139,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:125,columnNumber:15},globalThis),children:e.jsxDEV(ae,{onClick:()=>f(!D)},"setting",!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:155,columnNumber:13},globalThis)},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:120,columnNumber:11},globalThis)],children:[e.jsxDEV(H,{title:e.jsxDEV(xe,{onClick:()=>p(`/${n.product}/${n.productDetail}/${l}`),level:5,className:"hover:text-red-500 transition-all duration-300",children:[" ",t?A(t,40):"None Titile"]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:164,columnNumber:13},globalThis),description:e.jsxDEV(se,{title:r,children:r?A(r,50):"None description."},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:178,columnNumber:13},globalThis)},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:162,columnNumber:9},globalThis),e.jsxDEV(E,{direction:"horizontal",className:"mt-3",children:[e.jsxDEV(N,{className:"line-through text-gray-500",children:[c==null?void 0:c.toLocaleString()," VNĐ"]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:186,columnNumber:11},globalThis),e.jsxDEV(N,{className:"font-semibold",children:["Giá: ",i==null?void 0:i.toLocaleString()," VNĐ"]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:189,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:185,columnNumber:9},globalThis),e.jsxDEV(S,{className:"my-4"},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:193,columnNumber:9},globalThis),e.jsxDEV(H,{description:e.jsxDEV(N,{children:[e.jsxDEV("b",{children:"Tổng Số Lượng:"},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:197,columnNumber:15},globalThis)," ",s]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:196,columnNumber:13},globalThis)},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:194,columnNumber:9},globalThis),e.jsxDEV(S,{className:"my-4"},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:201,columnNumber:9},globalThis),e.jsxDEV(E,{className:"justify-between gap-8",children:[e.jsxDEV(N,{children:["Hot:"," ",o?e.jsxDEV(x,{color:"green-inverse",className:"ml-4",children:"Có"},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:207,columnNumber:15},globalThis):e.jsxDEV(x,{color:"red-inverse",className:"ml-4",children:"Không"},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:211,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:204,columnNumber:11},globalThis),e.jsxDEV(N,{children:["SEO:"," ",u?e.jsxDEV(x,{color:"green-inverse",className:"ml-4",children:"Có"},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:221,columnNumber:15},globalThis):e.jsxDEV(x,{color:"red-inverse",className:"ml-4",children:"Không"},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:225,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:218,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:202,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:79,columnNumber:7},globalThis)},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/partials/ProductCart.tsx",lineNumber:66,columnNumber:5},globalThis)},{Text:Te}=L,Ve=()=>{le({title:"App - Sản Phẩm"});const l=te(),a=re(),{loading:t,productList:r,pagination:c}=R(s=>s.common.product);d.useEffect(()=>{const s=new AbortController,u=s.signal;return(async()=>{try{await a(y({page:1,signal:u}))}catch{a(g({message:T.getDetailFaild,status:P.error}))}})(),()=>{s.abort()}},[]);const i=d.useCallback(async s=>{a(C(!0));try{(await O.deleteProduct(s)).status===$.success&&(a(g({message:T.deleteSuccess,status:P.success})),a(y({page:1})))}catch{a(g({message:T.deleteFaild,status:P.error}))}finally{a(C(!1))}},[]),b=async(s,u)=>{a(C(!0));try{const o=await O.updateFieldProduct(s,u);o.status===$.success&&(a(g({message:o.data.message,status:P.success})),a(y({page:1})))}catch(o){a(g({message:o.response.data.message??T.updateFaild,status:P.error}))}finally{a(C(!1))}};return e.jsxDEV(ce,{headerprops:{breadcrumb:{items:[{href:"/",title:e.jsxDEV(oe,{},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:119,columnNumber:22},globalThis)},{title:e.jsxDEV(Te,{children:l.pathname.replace("/","")},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:122,columnNumber:22},globalThis)}]},title:"Sản Phẩm"},footerprops:{children:ue,className:"text-center"},className:"bg-inherit h-auto",children:e.jsxDEV(ie,{className:"px-8",children:e.jsxDEV(ne,{spinning:t,children:[r&&r.length>0?e.jsxDEV(de,{gutter:[24,32],children:r&&(r==null?void 0:r.length)>0&&r.map((s,u)=>{var o,h;return e.jsxDEV(me,{span:6,children:e.jsxDEV(Ce,{onUpdate:b,onDelete:()=>i(s.maSanPham),id:s.maSanPham,img:s&&((o=s==null?void 0:s.hinhAnh)==null?void 0:o.length)>0?(h=s==null?void 0:s.hinhAnh.find(m=>m.hinhChinh))==null?void 0:h.hinhAnh:v,isHot:s.hot,isSEO:s.seo,title:s.tenSanPham,description:s.moTaNgan,originalPrice:s.giaGoc,overwritePrice:s.giaGiam,quantity:s.tongSoLuong,loading:t},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:143,columnNumber:23},globalThis)},u,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:142,columnNumber:21},globalThis)})},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:137,columnNumber:13},globalThis):e.jsxDEV(w,{image:w.PRESENTED_IMAGE_SIMPLE},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:167,columnNumber:13},globalThis),r&&r.length>0&&e.jsxDEV("div",{className:"mt-8 text-center",children:e.jsxDEV(he,{onChange:s=>{a(y({page:s}))},pageSize:ge.product,defaultCurrent:c==null?void 0:c.currentPage,total:c==null?void 0:c.total},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:171,columnNumber:15},globalThis)},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:170,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:135,columnNumber:9},globalThis)},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:134,columnNumber:7},globalThis)},void 0,!1,{fileName:"/home/dsu792/source/learn-technical/duy-hai-admin/src/pages/ProductPage/ProductPage.tsx",lineNumber:113,columnNumber:5},globalThis)};export{Ve as default};
